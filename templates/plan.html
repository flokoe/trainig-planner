<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Plan.Name}} - Training Tracker</title>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <header>
        <h1>{{.Plan.Name}}</h1>
        <nav>
            <a href="/">Calendar</a>
            <a href="/plans">Training Plans</a>
            <a href="/plans/{{.Plan.ID}}/sessions/new" class="button">Add Session</a>
        </nav>
    </header>
    <main>
        <div class="plan-details">
            {{if .Plan.Description}}
                <div class="description">
                    <h2>Description</h2>
                    <p>{{.Plan.Description}}</p>
                </div>
            {{end}}
            
            <div class="sessions">
                <h2>Training Sessions</h2>
                {{if .Sessions}}
                    <div class="sessions-list">
                        {{range .Sessions}}
                            <div class="session-card">
                                <h3>{{.Type}}</h3>
                                <p class="date">{{.ScheduledDate.Format "Jan 02, 2006"}}</p>
                                <p class="intensity">Intensity: {{.Intensity}}%</p>
                                {{if .Description}}
                                    <p class="description">{{.Description}}</p>
                                {{end}}
                            </div>
                        {{end}}
                    </div>
                {{else}}
                    <p>No training sessions yet. <a href="/plans/{{.Plan.ID}}/sessions/new">Add your first session</a>.</p>
                {{end}}
            </div>
        </div>
    </main>
</body>
</html>
